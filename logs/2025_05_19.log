2025-05-19 08:17:12.523 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:13.739 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-22672 environment=dev
2025-05-19 08:17:13.808 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:13.812 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-22672 environment=dev
2025-05-19 08:17:15.470 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 nvidia runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-22672 environment=dev
2025-05-19 08:17:15.472 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-22672 environment=dev
2025-05-19 08:17:15.476 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:15.497 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:15.498 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:15.500 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:15.502 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-22672 environment=dev
2025-05-19 08:17:15.937 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-postgres-1  Running
 Container test-databases-mysql-1  Running
 | component=conftest subcomponent=run_command service_name=service-22672 environment=dev
2025-05-19 08:17:15.940 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-22672 environment=dev
2025-05-19 08:17:15.952 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-22672 environment=dev
2025-05-19 08:17:15.982 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-22672 environment=dev
2025-05-19 08:17:15.985 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-22672 environment=dev
2025-05-19 08:17:15.989 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-22672 environment=dev
2025-05-19 08:17:16.017 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-22672 environment=dev
2025-05-19 08:17:16.020 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.041 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.048 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.054 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.076 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.079 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.081 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.105 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.116 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.136 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:16.318 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.20s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:16.322 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:16.433 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:16.436 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.438 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.456 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:16.637 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:16.639 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:16.760 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_c4026e14 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:16.812 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_c4026e14_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:16.832 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_c4026e14 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:16.842 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:16.848 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.851 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:16.855 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.875 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:16.893 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:17.053 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.17s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:17.058 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:17.130 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_a4d87348 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.134 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field age in test_users_a4d87348 with type int | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.174 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_a4d87348_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.215 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_a4d87348_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.231 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_a4d87348 from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.240 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:17.245 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:17.250 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:17.254 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:17.278 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:17.379 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:17.600 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.32s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:17.602 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:17.672 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_71dc90f4 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.676 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field update_comment in test_users_71dc90f4 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.715 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_71dc90f4_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.743 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field department in test_users_71dc90f4 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.754 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to table test_users_71dc90f4 | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.778 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to history table test_users_71dc90f4_history | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:17.800 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_71dc90f4_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.818 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_71dc90f4 from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.827 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_71dc90f4 from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.833 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_71dc90f4_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.840 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_71dc90f4_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:17.854 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:17.858 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:17.860 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:17.881 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:17.924 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.05s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:17.929 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:18.419 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_products_03c8be67 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:18.431 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field price in test_products_03c8be67 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:18.497 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_products_03c8be67 from schema: ['name', 'created_at', 'price', 'id', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:18.504 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:18.512 [INFO] [INFO] pools - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:18.515 [ERROR] [ERROR] pools - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:18.552 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:18.583 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:18.588 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:18.773 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_employees_8c3818ad with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:18.776 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field department in test_employees_8c3818ad with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:18.831 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:18.836 [INFO] [INFO] pools - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:18.838 [ERROR] [ERROR] pools - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:18.854 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:18.883 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:18.886 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:19.116 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_users_2af4c585 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:19.141 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.153 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.162 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.175 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.182 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.193 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.200 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_2af4c585 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.204 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:19.213 [INFO] [INFO] pools - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:19.216 [ERROR] [ERROR] pools - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:19.222 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for test_sqlite_625d120e.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:19.225 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for test_sqlite_625d120e.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:19.233 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_625d120e.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:19.235 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_625d120e.db - b625f926c7daefda7f2c885dabfa7a40 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:19.237 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_625d120e.db", "hash": "b625f926c7daefda7f2c885dabfa7a40", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:19.258 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field account in test_accounts_f5499383 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:19.263 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field balance in test_accounts_f5499383 with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:19.278 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_f5499383_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.292 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_f5499383_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.320 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_625d120e.db", "hash": "b625f926c7daefda7f2c885dabfa7a40", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:19.323 [INFO] [INFO] pools - close_pool -  Pool b625f926c7daefda7f2c885dabfa7a40 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:19.327 [INFO] [INFO] pools - close_pool -  Pool for b625f926c7daefda7f2c885dabfa7a40 closed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:19.832 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for test_sqlite_ec19a4f1.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:19.835 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for test_sqlite_ec19a4f1.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:19.839 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_ec19a4f1.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:19.841 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_ec19a4f1.db - bc476c577f330d581110280e88b17ff5 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:19.843 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_ec19a4f1.db", "hash": "bc476c577f330d581110280e88b17ff5", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:19.858 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field order in test_orders_5044839d with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:19.865 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_5044839d_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.883 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_5044839d_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:19.898 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_ec19a4f1.db", "hash": "bc476c577f330d581110280e88b17ff5", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:19.901 [INFO] [INFO] pools - close_pool -  Pool bc476c577f330d581110280e88b17ff5 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:19.904 [INFO] [INFO] pools - close_pool -  Pool for bc476c577f330d581110280e88b17ff5 closed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:20.411 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for test_sqlite_b2528e99.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:20.416 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for test_sqlite_b2528e99.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:20.420 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_b2528e99.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:20.423 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_b2528e99.db - cc8c27b571bc019a632f4ec53cb44b6c async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:20.425 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_b2528e99.db", "hash": "cc8c27b571bc019a632f4ec53cb44b6c", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:20.439 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in test_users_fd6a7ffb with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:20.445 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_fd6a7ffb_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:20.457 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_fd6a7ffb from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:20.459 [INFO] [INFO] test_dal - test_sqlite_save_and_get_entity -  ============= {
    "name": "Alice",
    "id": "fc87e472-5963-46e7-9bdc-88b94739855a",
    "created_at": "2025-05-19T07:17:20.431002",
    "updated_at": "2025-05-19T07:17:20.431002",
    "created_by": null,
    "updated_by": null,
    "deleted_at": null
} | component=test_dal subcomponent=test_sqlite_save_and_get_entity service_name=service-22672 environment=dev
2025-05-19 08:17:20.469 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_b2528e99.db", "hash": "cc8c27b571bc019a632f4ec53cb44b6c", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:20.474 [INFO] [INFO] pools - close_pool -  Pool cc8c27b571bc019a632f4ec53cb44b6c marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:20.477 [INFO] [INFO] pools - close_pool -  Pool for cc8c27b571bc019a632f4ec53cb44b6c closed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:20.982 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Requesting sync connection for test_sqlite_8f97eee4.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:20.985 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 15444: Sync connection created and cached for test_sqlite_8f97eee4.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-22672 environment=dev
2025-05-19 08:17:20.994 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_8f97eee4.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22672 environment=dev
2025-05-19 08:17:20.997 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_8f97eee4.db - db5c7630eec9c2164f9d6960e8defc2a async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22672 environment=dev
2025-05-19 08:17:21.004 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_8f97eee4.db", "hash": "db5c7630eec9c2164f9d6960e8defc2a", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:21.027 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in test_events_224b04a2 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:21.035 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field event_date in test_events_224b04a2 with type datetime | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22672 environment=dev
2025-05-19 08:17:21.048 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_224b04a2_history from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:21.061 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_224b04a2 from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22672 environment=dev
2025-05-19 08:17:21.071 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_8f97eee4.db", "hash": "db5c7630eec9c2164f9d6960e8defc2a", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22672 environment=dev
2025-05-19 08:17:21.075 [INFO] [INFO] pools - close_pool -  Pool db5c7630eec9c2164f9d6960e8defc2a marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:21.077 [INFO] [INFO] pools - close_pool -  Pool for db5c7630eec9c2164f9d6960e8defc2a closed | component=pools subcomponent=close_pool service_name=service-22672 environment=dev
2025-05-19 08:17:21.580 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-22672 environment=dev
2025-05-19 08:17:21.582 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-22672 environment=dev
2025-05-19 09:06:37.052 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:37.785 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-17904 environment=dev
2025-05-19 09:06:37.879 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:37.882 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-17904 environment=dev
2025-05-19 09:06:39.666 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 nvidia runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-17904 environment=dev
2025-05-19 09:06:39.670 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-17904 environment=dev
2025-05-19 09:06:39.673 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:39.679 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:39.681 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:39.682 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:39.684 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-17904 environment=dev
2025-05-19 09:06:40.173 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-postgres-1  Running
 Container test-databases-mysql-1  Running
 | component=conftest subcomponent=run_command service_name=service-17904 environment=dev
2025-05-19 09:06:40.176 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-17904 environment=dev
2025-05-19 09:06:40.200 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-17904 environment=dev
2025-05-19 09:06:40.228 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-17904 environment=dev
2025-05-19 09:06:40.232 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-17904 environment=dev
2025-05-19 09:06:40.235 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-17904 environment=dev
2025-05-19 09:06:40.275 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-17904 environment=dev
2025-05-19 09:06:40.279 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:40.303 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:40.309 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:40.316 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:40.343 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:40.346 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:40.349 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:40.372 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:40.380 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:40.401 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:40.580 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:40.582 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:40.678 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:40.683 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:40.685 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:40.704 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:40.896 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.20s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:40.899 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:41.040 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_e0899dff with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:41.082 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_e0899dff_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:41.100 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_e0899dff from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:41.114 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:41.118 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:41.120 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:41.125 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:41.149 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:41.164 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:41.343 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:41.345 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:41.452 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_eaccbbe7 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:41.461 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field age in test_users_eaccbbe7 with type int | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:41.505 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_eaccbbe7_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:41.538 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_eaccbbe7_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:41.553 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_eaccbbe7 from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:41.564 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:41.567 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:41.571 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:41.576 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:41.597 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:41.610 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:41.780 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.18s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:41.782 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:41.873 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_49875681 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:41.879 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field update_comment in test_users_49875681 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:41.976 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_49875681_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.002 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field department in test_users_49875681 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:42.013 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to table test_users_49875681 | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:42.025 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to history table test_users_49875681_history | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:42.065 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_49875681_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.096 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_49875681 from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.106 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_49875681 from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.115 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_49875681_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.129 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_49875681_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.147 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:42.154 [INFO] [INFO] pools - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:42.156 [ERROR] [ERROR] pools - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:42.181 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:42.236 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.07s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:42.239 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:42.721 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field price in test_products_4ffa30a1 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:42.728 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_products_4ffa30a1 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:42.806 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_products_4ffa30a1 from schema: ['id', 'price', 'created_at', 'updated_at', 'name', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:42.818 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:42.823 [INFO] [INFO] pools - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:42.826 [ERROR] [ERROR] pools - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:42.849 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:42.886 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:42.888 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:43.171 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field department in test_employees_d127b22e with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:43.177 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_employees_d127b22e with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:43.242 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:43.247 [INFO] [INFO] pools - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:43.250 [ERROR] [ERROR] pools - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:43.266 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:43.396 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.14s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:43.398 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:43.586 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_users_6b10a8e0 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:43.616 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.623 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.632 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.644 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.649 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.658 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.665 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_6b10a8e0 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.669 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:43.676 [INFO] [INFO] pools - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:43.678 [ERROR] [ERROR] pools - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:43.683 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for test_sqlite_3ea237a9.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:43.686 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for test_sqlite_3ea237a9.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:43.691 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_3ea237a9.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:43.694 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_3ea237a9.db - c6df7f434d4b7833655272c1a052a7ab async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:43.696 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_3ea237a9.db", "hash": "c6df7f434d4b7833655272c1a052a7ab", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:43.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field account in test_accounts_10a98a82 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:43.713 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field balance in test_accounts_10a98a82 with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:43.722 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_10a98a82_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.730 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_10a98a82_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:43.759 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_3ea237a9.db", "hash": "c6df7f434d4b7833655272c1a052a7ab", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:43.762 [INFO] [INFO] pools - close_pool -  Pool c6df7f434d4b7833655272c1a052a7ab marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:43.764 [INFO] [INFO] pools - close_pool -  Pool for c6df7f434d4b7833655272c1a052a7ab closed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:44.269 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for test_sqlite_8e9130ea.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:44.274 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for test_sqlite_8e9130ea.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:44.279 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_8e9130ea.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:44.282 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_8e9130ea.db - 91b4b1a0d1b7f82b9286e84634daeeda async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:44.284 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_8e9130ea.db", "hash": "91b4b1a0d1b7f82b9286e84634daeeda", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:44.297 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field order in test_orders_b410ec21 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:44.303 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_b410ec21_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:44.322 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_b410ec21_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:44.335 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_8e9130ea.db", "hash": "91b4b1a0d1b7f82b9286e84634daeeda", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:44.339 [INFO] [INFO] pools - close_pool -  Pool 91b4b1a0d1b7f82b9286e84634daeeda marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:44.342 [INFO] [INFO] pools - close_pool -  Pool for 91b4b1a0d1b7f82b9286e84634daeeda closed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:44.847 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for test_sqlite_a9739bc9.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:44.854 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for test_sqlite_a9739bc9.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:44.862 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_a9739bc9.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:44.870 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_a9739bc9.db - 82d1e13952ef9a7835ef01e42e37a998 async pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:44.882 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a9739bc9.db", "hash": "82d1e13952ef9a7835ef01e42e37a998", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:44.909 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in test_users_983c8403 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:44.940 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_983c8403_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:44.957 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_983c8403 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:44.959 [INFO] [INFO] test_dal - test_sqlite_save_and_get_entity -  ============= {
    "name": "Alice",
    "id": "c4a7f064-863d-41ba-9c34-cd0ec211585a",
    "created_at": "2025-05-19T08:06:44.887783",
    "updated_at": "2025-05-19T08:06:44.887783",
    "created_by": null,
    "updated_by": null,
    "deleted_at": null
} | component=test_dal subcomponent=test_sqlite_save_and_get_entity service_name=service-17904 environment=dev
2025-05-19 09:06:44.969 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a9739bc9.db", "hash": "82d1e13952ef9a7835ef01e42e37a998", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:44.978 [INFO] [INFO] pools - close_pool -  Pool 82d1e13952ef9a7835ef01e42e37a998 marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:44.980 [INFO] [INFO] pools - close_pool -  Pool for 82d1e13952ef9a7835ef01e42e37a998 closed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:45.485 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Requesting sync connection for test_sqlite_b8a26495.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:45.493 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 23272: Sync connection created and cached for test_sqlite_b8a26495.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-17904 environment=dev
2025-05-19 09:06:45.500 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_b8a26495.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17904 environment=dev
2025-05-19 09:06:45.502 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_b8a26495.db - 79f58f11975fd0a3da827f2e53640fec async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-17904 environment=dev
2025-05-19 09:06:45.505 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_b8a26495.db", "hash": "79f58f11975fd0a3da827f2e53640fec", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:45.522 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in test_events_39870155 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:45.526 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field event_date in test_events_39870155 with type datetime | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-17904 environment=dev
2025-05-19 09:06:45.541 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_39870155_history from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:45.557 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_39870155 from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17904 environment=dev
2025-05-19 09:06:45.567 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_b8a26495.db", "hash": "79f58f11975fd0a3da827f2e53640fec", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17904 environment=dev
2025-05-19 09:06:45.571 [INFO] [INFO] pools - close_pool -  Pool 79f58f11975fd0a3da827f2e53640fec marked as shutting down, no new connections allowed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:45.575 [INFO] [INFO] pools - close_pool -  Pool for 79f58f11975fd0a3da827f2e53640fec closed | component=pools subcomponent=close_pool service_name=service-17904 environment=dev
2025-05-19 09:06:46.080 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-17904 environment=dev
2025-05-19 09:06:46.084 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-17904 environment=dev
2025-05-19 09:41:49.032 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:49.794 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-21780 environment=dev
2025-05-19 09:41:49.842 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:49.849 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-21780 environment=dev
2025-05-19 09:41:50.403 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 nvidia runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-21780 environment=dev
2025-05-19 09:41:50.406 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-21780 environment=dev
2025-05-19 09:41:50.410 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:50.415 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:50.418 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:50.419 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:50.421 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-21780 environment=dev
2025-05-19 09:41:50.879 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-mysql-1  Running
 Container test-databases-postgres-1  Running
 | component=conftest subcomponent=run_command service_name=service-21780 environment=dev
2025-05-19 09:41:50.884 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-21780 environment=dev
2025-05-19 09:41:50.899 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-21780 environment=dev
2025-05-19 09:41:50.938 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-21780 environment=dev
2025-05-19 09:41:50.941 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-21780 environment=dev
2025-05-19 09:41:50.944 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-21780 environment=dev
2025-05-19 09:41:50.980 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-21780 environment=dev
2025-05-19 09:41:50.983 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.004 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.013 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.019 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.046 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.051 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.053 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.102 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.117 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.141 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:51.325 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.20s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:51.332 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:51.396 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:51.399 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.402 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.419 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:51.611 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.20s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:51.613 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:51.709 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:51.945 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.950 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:51.954 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.976 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:51.992 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:52.188 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.21s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:52.195 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:52.272 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:52.356 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:52.358 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:52.362 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:52.392 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for testdb_postgres in 0.03s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:52.405 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:52.584 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:52.586 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:52.659 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:52.831 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:52.836 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:52.851 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:52.894 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.05s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:52.896 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:53.324 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_products_8bebc0ff with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-21780 environment=dev
2025-05-19 09:41:53.331 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field price in test_products_8bebc0ff with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-21780 environment=dev
2025-05-19 09:41:53.347 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:53.419 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:53.422 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:53.442 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:53.475 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:53.477 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:53.678 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field department in test_employees_918d602f with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-21780 environment=dev
2025-05-19 09:41:53.682 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_employees_918d602f with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-21780 environment=dev
2025-05-19 09:41:53.696 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:53.765 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:53.770 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:53.783 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:53.840 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.06s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:53.842 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:54.060 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 0, "idle": 3, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:54.237 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:54.259 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:54.265 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for test_sqlite_a8ddd5ea.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:54.272 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for test_sqlite_a8ddd5ea.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:54.279 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_a8ddd5ea.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:54.282 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_a8ddd5ea.db - 3225c79d6db73edd4e11000ae5c9b83b async pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:54.285 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a8ddd5ea.db", "hash": "3225c79d6db73edd4e11000ae5c9b83b", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:54.305 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a8ddd5ea.db", "hash": "3225c79d6db73edd4e11000ae5c9b83b", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:54.419 [INFO] [INFO] pool_manager - close_pool -  Pool 3225c79d6db73edd4e11000ae5c9b83b marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:54.423 [INFO] [INFO] pool_manager - close_pool -  Pool for 3225c79d6db73edd4e11000ae5c9b83b closed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:54.932 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for test_sqlite_89bd5712.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:54.939 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for test_sqlite_89bd5712.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:54.943 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_89bd5712.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:54.945 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_89bd5712.db - ce86454dc07824597fba111a812ffe01 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:54.947 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_89bd5712.db", "hash": "ce86454dc07824597fba111a812ffe01", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:54.963 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_89bd5712.db", "hash": "ce86454dc07824597fba111a812ffe01", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:55.043 [INFO] [INFO] pool_manager - close_pool -  Pool ce86454dc07824597fba111a812ffe01 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:55.046 [INFO] [INFO] pool_manager - close_pool -  Pool for ce86454dc07824597fba111a812ffe01 closed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:55.554 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for test_sqlite_c94d181b.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:55.557 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for test_sqlite_c94d181b.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:55.561 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_c94d181b.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:55.563 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_c94d181b.db - 025ed26f0929ea42c814b3bd555cf96e async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:55.565 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_c94d181b.db", "hash": "025ed26f0929ea42c814b3bd555cf96e", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:55.583 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_c94d181b.db", "hash": "025ed26f0929ea42c814b3bd555cf96e", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:55.677 [INFO] [INFO] pool_manager - close_pool -  Pool 025ed26f0929ea42c814b3bd555cf96e marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:55.679 [INFO] [INFO] pool_manager - close_pool -  Pool for 025ed26f0929ea42c814b3bd555cf96e closed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:56.186 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Requesting sync connection for test_sqlite_99463d84.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:56.195 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 5200: Sync connection created and cached for test_sqlite_99463d84.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-21780 environment=dev
2025-05-19 09:41:56.206 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_99463d84.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21780 environment=dev
2025-05-19 09:41:56.212 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_99463d84.db - 01fff56ec8e0c4e8c56918052ed7a7f5 async pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21780 environment=dev
2025-05-19 09:41:56.215 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_99463d84.db", "hash": "01fff56ec8e0c4e8c56918052ed7a7f5", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:56.218 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_99463d84.db", "hash": "01fff56ec8e0c4e8c56918052ed7a7f5", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21780 environment=dev
2025-05-19 09:41:56.253 [INFO] [INFO] pool_manager - close_pool -  Pool 01fff56ec8e0c4e8c56918052ed7a7f5 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:56.257 [INFO] [INFO] pool_manager - close_pool -  Pool for 01fff56ec8e0c4e8c56918052ed7a7f5 closed | component=pool_manager subcomponent=close_pool service_name=service-21780 environment=dev
2025-05-19 09:41:56.761 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-21780 environment=dev
2025-05-19 09:41:56.763 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-21780 environment=dev
2025-05-19 09:45:26.673 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:27.333 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-21860 environment=dev
2025-05-19 09:45:27.393 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:27.398 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-21860 environment=dev
2025-05-19 09:45:27.906 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 nvidia runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-21860 environment=dev
2025-05-19 09:45:27.909 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-21860 environment=dev
2025-05-19 09:45:27.911 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:27.916 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:27.918 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:27.920 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:27.921 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-21860 environment=dev
2025-05-19 09:45:28.328 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-mysql-1  Running
 Container test-databases-postgres-1  Running
 | component=conftest subcomponent=run_command service_name=service-21860 environment=dev
2025-05-19 09:45:28.331 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-21860 environment=dev
2025-05-19 09:45:28.338 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-21860 environment=dev
2025-05-19 09:45:28.354 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-21860 environment=dev
2025-05-19 09:45:28.356 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-21860 environment=dev
2025-05-19 09:45:28.358 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-21860 environment=dev
2025-05-19 09:45:28.383 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-21860 environment=dev
2025-05-19 09:45:28.403 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-21860 environment=dev
2025-05-19 09:45:28.632 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.24s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-21860 environment=dev
2025-05-19 09:45:28.636 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21860 environment=dev
2025-05-19 09:45:28.737 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-21860 environment=dev
2025-05-19 09:45:28.961 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21860 environment=dev
2025-05-19 09:45:28.963 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-21860 environment=dev
2025-05-19 09:45:28.968 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-21860 environment=dev
2025-05-19 09:45:28.971 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-21860 environment=dev
2025-05-19 10:51:50.154 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:51.401 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-6396 environment=dev
2025-05-19 10:51:51.553 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:51.557 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-6396 environment=dev
2025-05-19 10:51:52.310 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 nvidia runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-6396 environment=dev
2025-05-19 10:51:52.313 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-6396 environment=dev
2025-05-19 10:51:52.315 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:52.324 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:52.325 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:52.327 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:52.329 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-6396 environment=dev
2025-05-19 10:51:52.928 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-postgres-1  Running
 Container test-databases-mysql-1  Running
 | component=conftest subcomponent=run_command service_name=service-6396 environment=dev
2025-05-19 10:51:52.931 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-6396 environment=dev
2025-05-19 10:51:52.939 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-6396 environment=dev
2025-05-19 10:51:52.959 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-6396 environment=dev
2025-05-19 10:51:52.964 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-6396 environment=dev
2025-05-19 10:51:52.967 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-6396 environment=dev
2025-05-19 10:51:52.995 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-6396 environment=dev
2025-05-19 10:51:53.017 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-6396 environment=dev
2025-05-19 10:51:53.185 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.18s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-6396 environment=dev
2025-05-19 10:51:53.190 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-6396 environment=dev
2025-05-19 10:51:53.289 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_96a8512d with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-6396 environment=dev
2025-05-19 10:51:53.330 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_96a8512d_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-6396 environment=dev
2025-05-19 10:51:53.355 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_96a8512d from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-6396 environment=dev
2025-05-19 10:51:53.367 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-6396 environment=dev
2025-05-19 10:51:53.371 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-6396 environment=dev
2025-05-19 10:51:53.373 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-6396 environment=dev
2025-05-19 10:51:53.376 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-6396 environment=dev
2025-05-19 10:51:53.378 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-6396 environment=dev
2025-05-19 10:54:04.862 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:05.488 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-14284 environment=dev
2025-05-19 10:54:05.529 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:05.531 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-14284 environment=dev
2025-05-19 10:54:06.019 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: nvidia runc io.containerd.runc.v2
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-14284 environment=dev
2025-05-19 10:54:06.023 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-14284 environment=dev
2025-05-19 10:54:06.025 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:06.031 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:06.033 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:06.034 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:06.036 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-14284 environment=dev
2025-05-19 10:54:06.409 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-postgres-1  Running
 Container test-databases-mysql-1  Running
 | component=conftest subcomponent=run_command service_name=service-14284 environment=dev
2025-05-19 10:54:06.411 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-14284 environment=dev
2025-05-19 10:54:06.418 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-14284 environment=dev
2025-05-19 10:54:06.434 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-14284 environment=dev
2025-05-19 10:54:06.436 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-14284 environment=dev
2025-05-19 10:54:06.442 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-14284 environment=dev
2025-05-19 10:54:06.467 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-14284 environment=dev
2025-05-19 10:54:06.471 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:06.505 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for testdb_postgres in 0.03s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:06.511 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:06.516 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:06.539 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:06.544 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:06.546 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:06.557 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:06.571 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:06.597 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:06.917 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.34s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:06.923 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:06.971 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:06.975 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:06.977 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:06.993 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:07.196 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.21s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:07.199 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:07.277 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_7008106f with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:07.326 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_7008106f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:07.353 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_7008106f from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:07.366 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:07.370 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:07.372 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:07.377 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:07.400 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:07.415 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:07.595 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:07.600 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:07.669 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_1566c018 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:07.673 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field age in test_users_1566c018 with type int | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:07.718 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_1566c018_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:07.756 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_1566c018_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:07.773 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_1566c018 from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:07.787 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:07.790 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:07.793 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:07.797 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:07.824 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:07.836 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:08.023 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:08.027 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.098 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_efe1e496 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:08.105 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field update_comment in test_users_efe1e496 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:08.150 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_efe1e496_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:08.175 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field department in test_users_efe1e496 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:08.184 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to table test_users_efe1e496 | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:08.193 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to history table test_users_efe1e496_history | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-14284 environment=dev
2025-05-19 10:54:08.210 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_efe1e496_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:08.226 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_efe1e496 from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:08.232 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_efe1e496 from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:08.237 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_efe1e496_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:08.246 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_efe1e496_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-14284 environment=dev
2025-05-19 10:54:08.255 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.258 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.263 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.277 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:08.309 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:08.312 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.314 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 0, "idle": 3, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.492 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.496 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.514 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:08.565 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.06s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:08.571 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.575 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 0, "idle": 3, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.595 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.597 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.615 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:08.671 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.06s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:08.674 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.677 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 0, "idle": 3, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.695 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.697 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.705 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for test_sqlite_00a5a451.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:08.708 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for test_sqlite_00a5a451.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:08.713 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_00a5a451.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:08.715 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_00a5a451.db - 618515ebaed7207368ab1016ba9a6bfe async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:08.717 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_00a5a451.db", "hash": "618515ebaed7207368ab1016ba9a6bfe", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.724 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_00a5a451.db", "hash": "618515ebaed7207368ab1016ba9a6bfe", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:08.748 [INFO] [INFO] pool_manager - close_pool -  Pool 618515ebaed7207368ab1016ba9a6bfe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:08.751 [INFO] [INFO] pool_manager - close_pool -  Pool for 618515ebaed7207368ab1016ba9a6bfe closed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:09.255 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for test_sqlite_477ace1a.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:09.264 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for test_sqlite_477ace1a.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:09.269 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_477ace1a.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:09.271 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_477ace1a.db - 6eccab2c15e1f629d25dee36085ae37b async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:09.273 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_477ace1a.db", "hash": "6eccab2c15e1f629d25dee36085ae37b", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:09.276 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_477ace1a.db", "hash": "6eccab2c15e1f629d25dee36085ae37b", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:09.292 [INFO] [INFO] pool_manager - close_pool -  Pool 6eccab2c15e1f629d25dee36085ae37b marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:09.294 [INFO] [INFO] pool_manager - close_pool -  Pool for 6eccab2c15e1f629d25dee36085ae37b closed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:09.815 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for test_sqlite_f3ba11b0.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:09.832 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for test_sqlite_f3ba11b0.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:09.887 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_f3ba11b0.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:09.897 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_f3ba11b0.db - a479d634601c15dac3543686f01f0d0b async pool initialized in 0.04s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:09.899 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_f3ba11b0.db", "hash": "a479d634601c15dac3543686f01f0d0b", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:09.910 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_f3ba11b0.db", "hash": "a479d634601c15dac3543686f01f0d0b", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:09.934 [INFO] [INFO] pool_manager - close_pool -  Pool a479d634601c15dac3543686f01f0d0b marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:09.939 [INFO] [INFO] pool_manager - close_pool -  Pool for a479d634601c15dac3543686f01f0d0b closed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:10.447 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Requesting sync connection for test_sqlite_2c3c2c24.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:10.450 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 21432: Sync connection created and cached for test_sqlite_2c3c2c24.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-14284 environment=dev
2025-05-19 10:54:10.454 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_2c3c2c24.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14284 environment=dev
2025-05-19 10:54:10.456 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_2c3c2c24.db - 1865322c875592d5d8efbe589fb1c4c9 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14284 environment=dev
2025-05-19 10:54:10.458 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_2c3c2c24.db", "hash": "1865322c875592d5d8efbe589fb1c4c9", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:10.461 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_2c3c2c24.db", "hash": "1865322c875592d5d8efbe589fb1c4c9", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14284 environment=dev
2025-05-19 10:54:10.480 [INFO] [INFO] pool_manager - close_pool -  Pool 1865322c875592d5d8efbe589fb1c4c9 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:10.486 [INFO] [INFO] pool_manager - close_pool -  Pool for 1865322c875592d5d8efbe589fb1c4c9 closed | component=pool_manager subcomponent=close_pool service_name=service-14284 environment=dev
2025-05-19 10:54:10.991 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-14284 environment=dev
2025-05-19 10:54:10.997 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-14284 environment=dev
2025-05-19 12:16:48.315 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:49.000 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-12764 environment=dev
2025-05-19 12:16:49.064 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:49.067 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-12764 environment=dev
2025-05-19 12:16:49.582 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 nvidia runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-12764 environment=dev
2025-05-19 12:16:49.585 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-12764 environment=dev
2025-05-19 12:16:49.587 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:49.593 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:49.595 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:49.597 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:49.601 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-12764 environment=dev
2025-05-19 12:16:50.146 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-mysql-1  Running
 Container test-databases-postgres-1  Running
 | component=conftest subcomponent=run_command service_name=service-12764 environment=dev
2025-05-19 12:16:50.148 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-12764 environment=dev
2025-05-19 12:16:50.156 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-12764 environment=dev
2025-05-19 12:16:50.206 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-12764 environment=dev
2025-05-19 12:16:50.209 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-12764 environment=dev
2025-05-19 12:16:50.212 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-12764 environment=dev
2025-05-19 12:16:50.252 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-12764 environment=dev
2025-05-19 12:16:50.255 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:50.282 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:50.288 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:50.295 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:50.323 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:50.326 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:50.328 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:50.374 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:50.389 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:50.413 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:50.697 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.30s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:50.703 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:50.792 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:50.796 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:50.801 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:50.817 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:51.010 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.20s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:51.014 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:51.149 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_ca7f2690 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:51.208 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_ca7f2690_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:51.228 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_ca7f2690 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:51.242 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:51.245 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:51.248 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:51.254 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:51.276 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:51.292 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:51.477 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:51.483 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:51.572 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_dbdf3f7b with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:51.585 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field age in test_users_dbdf3f7b with type int | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:51.671 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_dbdf3f7b_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:51.726 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_dbdf3f7b_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:51.747 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_dbdf3f7b from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:51.759 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:51.766 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:51.769 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:51.776 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:51.804 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:51.818 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:52.055 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.25s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:52.057 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:52.191 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_08a4704b with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:52.197 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field update_comment in test_users_08a4704b with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:52.267 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_08a4704b_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:52.304 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field department in test_users_08a4704b with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:52.314 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to table test_users_08a4704b | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:52.328 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to history table test_users_08a4704b_history | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:52.351 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_08a4704b_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:52.389 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_08a4704b from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:52.404 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_08a4704b from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:52.410 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_08a4704b_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:52.423 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_08a4704b_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:52.437 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:52.444 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:52.447 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:52.484 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:52.553 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.10s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:52.555 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:53.186 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_products_de37fa7a with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:53.202 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field price in test_products_de37fa7a with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:53.339 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_products_de37fa7a from schema: ['updated_at', 'name', 'price', 'id', 'created_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:53.356 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:53.364 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:53.367 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:53.411 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:53.476 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.10s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:53.483 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:54.156 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field department in test_employees_0aacc69f with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:54.164 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_employees_0aacc69f with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:54.252 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:54.258 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:54.263 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:54.282 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:54.313 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:54.316 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:54.553 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_users_737ed6ce with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:54.591 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.603 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.614 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.627 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.635 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.647 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.655 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_737ed6ce from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.659 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:54.667 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:54.669 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:54.676 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for test_sqlite_a9e2f133.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:54.679 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for test_sqlite_a9e2f133.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:54.685 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_a9e2f133.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:54.688 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_a9e2f133.db - 611f38df86fb723a953b86ca39ccfbde async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:54.690 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a9e2f133.db", "hash": "611f38df86fb723a953b86ca39ccfbde", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:54.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field account in test_accounts_fc447914 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:54.714 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field balance in test_accounts_fc447914 with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:54.726 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_fc447914_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.735 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_fc447914_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:54.759 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a9e2f133.db", "hash": "611f38df86fb723a953b86ca39ccfbde", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:54.765 [INFO] [INFO] pool_manager - close_pool -  Pool 611f38df86fb723a953b86ca39ccfbde marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:54.768 [INFO] [INFO] pool_manager - close_pool -  Pool for 611f38df86fb723a953b86ca39ccfbde closed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:55.272 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for test_sqlite_d766173b.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:55.278 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for test_sqlite_d766173b.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:55.284 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_d766173b.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:55.286 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_d766173b.db - 8a9902e392043baa78a1b3029895cc7f async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:55.289 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_d766173b.db", "hash": "8a9902e392043baa78a1b3029895cc7f", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:55.300 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field order in test_orders_acef3d83 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:55.309 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_acef3d83_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:55.326 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_acef3d83_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:55.338 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_d766173b.db", "hash": "8a9902e392043baa78a1b3029895cc7f", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:55.344 [INFO] [INFO] pool_manager - close_pool -  Pool 8a9902e392043baa78a1b3029895cc7f marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:55.347 [INFO] [INFO] pool_manager - close_pool -  Pool for 8a9902e392043baa78a1b3029895cc7f closed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:55.851 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for test_sqlite_1ee0b475.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:55.854 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for test_sqlite_1ee0b475.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:55.858 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_1ee0b475.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:55.860 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_1ee0b475.db - c4a9fe2c8ecf36d02d3652a9d652d979 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:55.864 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_1ee0b475.db", "hash": "c4a9fe2c8ecf36d02d3652a9d652d979", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:55.876 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in test_users_0bd4c984 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:55.886 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_0bd4c984_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:55.896 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_0bd4c984 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:55.899 [INFO] [INFO] test_dal - test_sqlite_save_and_get_entity -  ============= {
    "name": "Alice",
    "id": "30a2a576-e943-4460-abdb-27e201e72a7f",
    "created_at": "2025-05-19T11:16:55.867595",
    "updated_at": "2025-05-19T11:16:55.867595",
    "created_by": null,
    "updated_by": null,
    "deleted_at": null
} | component=test_dal subcomponent=test_sqlite_save_and_get_entity service_name=service-12764 environment=dev
2025-05-19 12:16:55.910 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_1ee0b475.db", "hash": "c4a9fe2c8ecf36d02d3652a9d652d979", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:55.915 [INFO] [INFO] pool_manager - close_pool -  Pool c4a9fe2c8ecf36d02d3652a9d652d979 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:55.917 [INFO] [INFO] pool_manager - close_pool -  Pool for c4a9fe2c8ecf36d02d3652a9d652d979 closed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:56.422 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Requesting sync connection for test_sqlite_d3610653.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:56.429 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 19076: Sync connection created and cached for test_sqlite_d3610653.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-12764 environment=dev
2025-05-19 12:16:56.433 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_d3610653.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-05-19 12:16:56.435 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_d3610653.db - a76411ecd3dc6e9918f36440ee260c88 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-05-19 12:16:56.437 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_d3610653.db", "hash": "a76411ecd3dc6e9918f36440ee260c88", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:56.449 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in test_events_5a0b928d with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:56.452 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field event_date in test_events_5a0b928d with type datetime | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12764 environment=dev
2025-05-19 12:16:56.461 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_5a0b928d_history from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:56.475 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_5a0b928d from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-05-19 12:16:56.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_d3610653.db", "hash": "a76411ecd3dc6e9918f36440ee260c88", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-05-19 12:16:56.488 [INFO] [INFO] pool_manager - close_pool -  Pool a76411ecd3dc6e9918f36440ee260c88 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:56.490 [INFO] [INFO] pool_manager - close_pool -  Pool for a76411ecd3dc6e9918f36440ee260c88 closed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-05-19 12:16:56.994 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-12764 environment=dev
2025-05-19 12:16:56.996 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-12764 environment=dev
2025-05-19 13:39:05.565 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:06.455 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-16640 environment=dev
2025-05-19 13:39:06.532 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:06.534 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-16640 environment=dev
2025-05-19 13:39:08.209 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: nvidia runc io.containerd.runc.v2
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-16640 environment=dev
2025-05-19 13:39:08.211 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-16640 environment=dev
2025-05-19 13:39:08.213 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:08.221 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:08.223 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:08.225 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:08.226 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-16640 environment=dev
2025-05-19 13:39:08.648 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-mysql-1  Running
 Container test-databases-postgres-1  Running
 | component=conftest subcomponent=run_command service_name=service-16640 environment=dev
2025-05-19 13:39:08.651 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-16640 environment=dev
2025-05-19 13:39:08.659 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-16640 environment=dev
2025-05-19 13:39:08.677 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-16640 environment=dev
2025-05-19 13:39:08.681 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-16640 environment=dev
2025-05-19 13:39:08.685 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-16640 environment=dev
2025-05-19 13:39:08.712 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-16640 environment=dev
2025-05-19 13:39:08.715 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:08.734 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:08.740 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:08.747 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:08.766 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:08.768 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:08.770 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:08.785 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:08.794 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:08.835 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:09.012 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.21s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:09.017 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:09.089 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:09.092 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:09.095 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:09.110 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:09.290 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:09.292 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:09.397 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_6bd731a3 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:09.452 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6bd731a3_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:09.473 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6bd731a3 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:09.484 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:09.490 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:09.494 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:09.500 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:09.525 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:09.542 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:09.726 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.20s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:09.730 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:09.808 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_bc33730f with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:09.813 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field age in test_users_bc33730f with type int | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:09.865 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_bc33730f_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:09.896 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_bc33730f_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:09.919 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_bc33730f from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:09.932 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:09.936 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:09.938 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:09.945 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:09.965 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:09.985 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:10.159 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.19s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:10.162 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:10.230 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_6d3e591f with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.235 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field update_comment in test_users_6d3e591f with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.277 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6d3e591f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.303 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field department in test_users_6d3e591f with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.310 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to table test_users_6d3e591f | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.318 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to history table test_users_6d3e591f_history | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.335 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6d3e591f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.350 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6d3e591f from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.357 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6d3e591f from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.363 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6d3e591f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.369 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_6d3e591f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.377 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:10.383 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:10.386 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:10.398 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:10.429 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:10.430 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:10.810 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field price in test_products_5e306bf0 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.829 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_products_5e306bf0 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:10.935 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_products_5e306bf0 from schema: ['id', 'price', 'updated_at', 'created_at', 'name', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:10.951 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:10.956 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:10.959 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:10.986 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:11.033 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.06s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:11.036 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:11.306 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_employees_657e0f27 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:11.310 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field department in test_employees_657e0f27 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:11.379 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:11.387 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:11.389 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:11.407 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:11.434 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:11.436 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:11.648 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_users_9da6720f with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:11.676 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.686 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.694 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.707 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.712 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.739 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.755 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_9da6720f from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.759 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:11.771 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:11.774 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:11.783 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for test_sqlite_a303d807.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:11.787 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for test_sqlite_a303d807.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:11.793 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_a303d807.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:11.797 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_a303d807.db - 41eebede6014d744774766f0196a104c async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:11.799 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a303d807.db", "hash": "41eebede6014d744774766f0196a104c", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:11.829 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field account in test_accounts_0a8b4b0d with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:11.837 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field balance in test_accounts_0a8b4b0d with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:11.878 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_0a8b4b0d_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.894 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_0a8b4b0d_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:11.919 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_a303d807.db", "hash": "41eebede6014d744774766f0196a104c", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:11.924 [INFO] [INFO] pool_manager - close_pool -  Pool 41eebede6014d744774766f0196a104c marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:11.927 [INFO] [INFO] pool_manager - close_pool -  Pool for 41eebede6014d744774766f0196a104c closed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:12.430 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for test_sqlite_c502cc3f.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:12.436 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for test_sqlite_c502cc3f.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:12.440 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_c502cc3f.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:12.446 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_c502cc3f.db - 34b7b64c5da7bdbebb308540fb6be8c8 async pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:12.448 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_c502cc3f.db", "hash": "34b7b64c5da7bdbebb308540fb6be8c8", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:12.459 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field order in test_orders_b4f19198 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:12.471 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_b4f19198_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:12.493 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_b4f19198_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:12.510 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_c502cc3f.db", "hash": "34b7b64c5da7bdbebb308540fb6be8c8", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:12.514 [INFO] [INFO] pool_manager - close_pool -  Pool 34b7b64c5da7bdbebb308540fb6be8c8 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:12.516 [INFO] [INFO] pool_manager - close_pool -  Pool for 34b7b64c5da7bdbebb308540fb6be8c8 closed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:13.023 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for test_sqlite_f771772e.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:13.030 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for test_sqlite_f771772e.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:13.034 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_f771772e.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:13.036 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_f771772e.db - d53a4f0ce48b170ee516492c14500366 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:13.038 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_f771772e.db", "hash": "d53a4f0ce48b170ee516492c14500366", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:13.054 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in test_users_17c03507 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:13.069 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_17c03507_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:13.084 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_17c03507 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:13.090 [INFO] [INFO] test_dal - test_sqlite_save_and_get_entity -  ============= {
    "name": "Alice",
    "id": "01d8f15d-252a-44f4-b624-8cdd1f527a78",
    "created_at": "2025-05-19T12:39:13.041303+00:00",
    "updated_at": "2025-05-19T12:39:13.041303+00:00",
    "created_by": null,
    "updated_by": null,
    "deleted_at": null
} | component=test_dal subcomponent=test_sqlite_save_and_get_entity service_name=service-16640 environment=dev
2025-05-19 13:39:13.097 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_f771772e.db", "hash": "d53a4f0ce48b170ee516492c14500366", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:13.101 [INFO] [INFO] pool_manager - close_pool -  Pool d53a4f0ce48b170ee516492c14500366 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:13.108 [INFO] [INFO] pool_manager - close_pool -  Pool for d53a4f0ce48b170ee516492c14500366 closed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:13.613 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Requesting sync connection for test_sqlite_d065c560.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:13.616 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20108: Sync connection created and cached for test_sqlite_d065c560.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-16640 environment=dev
2025-05-19 13:39:13.620 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_d065c560.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16640 environment=dev
2025-05-19 13:39:13.622 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_d065c560.db - 75e907b0d0b0f9e375d253f75912f351 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16640 environment=dev
2025-05-19 13:39:13.626 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_d065c560.db", "hash": "75e907b0d0b0f9e375d253f75912f351", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:13.637 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in test_events_de713792 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:13.639 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field event_date in test_events_de713792 with type datetime | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16640 environment=dev
2025-05-19 13:39:13.652 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_de713792_history from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:13.667 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_de713792 from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16640 environment=dev
2025-05-19 13:39:13.677 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_d065c560.db", "hash": "75e907b0d0b0f9e375d253f75912f351", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16640 environment=dev
2025-05-19 13:39:13.680 [INFO] [INFO] pool_manager - close_pool -  Pool 75e907b0d0b0f9e375d253f75912f351 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:13.684 [INFO] [INFO] pool_manager - close_pool -  Pool for 75e907b0d0b0f9e375d253f75912f351 closed | component=pool_manager subcomponent=close_pool service_name=service-16640 environment=dev
2025-05-19 13:39:14.189 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-16640 environment=dev
2025-05-19 13:39:14.191 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-16640 environment=dev
2025-05-19 13:44:30.503 [INFO] [INFO] conftest - setup_test_environment -  Setting up test environment... | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:31.852 [INFO] [INFO] conftest - delete_pytest_cache -  Removing .\.pytest_cache | component=conftest subcomponent=delete_pytest_cache service_name=service-23760 environment=dev
2025-05-19 13:44:31.911 [INFO] [INFO] conftest - setup_test_environment -  Test files in this session: {'c:\\Users\\Phil\\Desktop\\Projects\\shared-libs\\python\\databases\\tests\\test_dal.py'} | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:31.922 [INFO] [INFO] conftest - run_command -  Running command: docker info | component=conftest subcomponent=run_command service_name=service-23760 environment=dev
2025-05-19 13:44:32.828 [INFO] [INFO] conftest - run_command -  Command output: Client:
 Version:    28.0.4
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  ai: Docker AI Agent - Ask Gordon (Docker Inc.)
    Version:  v1.1.3
    Path:     C:\Program Files\Docker\cli-plugins\docker-ai.exe
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.22.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  cloud: Docker Cloud (Docker Inc.)
    Version:  0.2.20
    Path:     C:\Program Files\Docker\cli-plugins\docker-cloud.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.34.0-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.38
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Beta) (Docker Inc.)
    Version:  v0.1.6
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.27
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.4.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.17.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 3
  Running: 3
  Paused: 0
  Stopped: 0
 Images: 9
 Server Version: 28.0.4
 Storage Driver: overlayfs
  driver-type: io.containerd.snapshotter.v1
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 CDI spec directories:
  /etc/cdi
  /var/run/cdi
 Swarm: inactive
 Runtimes: nvidia runc io.containerd.runc.v2
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 753481ec61c7c8955a23d6ff7bc8e4daed455734
 runc version: v1.2.5-0-g59923ef
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.167.4-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 7.649GiB
 Name: docker-desktop
 ID: bd414c6b-a391-41c8-9560-cbfc52f7f58d
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

 | component=conftest subcomponent=run_command service_name=service-23760 environment=dev
2025-05-19 13:44:32.831 [INFO] [INFO] conftest - run_command -  Command error: WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: DOCKER_INSECURE_NO_IPTABLES_RAW is set
WARNING: daemon is not using the default seccomp profile
 | component=conftest subcomponent=run_command service_name=service-23760 environment=dev
2025-05-19 13:44:32.833 [INFO] [INFO] conftest - setup_test_environment -  Found Docker Compose file for c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\test_dal.py: c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:32.843 [INFO] [INFO] conftest - setup_test_environment -  Detected the following services in c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml: | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:32.852 [INFO] [INFO] conftest - setup_test_environment -    - mysql: {'user': 'test', 'password': 'test', 'dbname': 'testdb_mysql'}:localhost (container port: 3307) | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:32.854 [INFO] [INFO] conftest - setup_test_environment -    - postgres: {'user': 'test', 'password': 'test', 'dbname': 'testdb_postgres'}:localhost (container port: 5433) | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:32.856 [INFO] [INFO] conftest - run_command -  Running command: docker-compose -f c:\Users\Phil\Desktop\Projects\shared-libs\python\databases\tests\docker-compose.yml -p test-databases up -d | component=conftest subcomponent=run_command service_name=service-23760 environment=dev
2025-05-19 13:44:33.774 [INFO] [INFO] conftest - run_command -  Command error:  Container test-databases-postgres-1  Running
 Container test-databases-mysql-1  Running
 | component=conftest subcomponent=run_command service_name=service-23760 environment=dev
2025-05-19 13:44:33.777 [INFO] [INFO] services - wait_for_service -  Waiting for mysql to be ready at localhost:3307... | component=services subcomponent=wait_for_service service_name=service-23760 environment=dev
2025-05-19 13:44:33.804 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:3307 successful | component=services subcomponent=wait_for_service service_name=service-23760 environment=dev
2025-05-19 13:44:33.817 [INFO] [INFO] services - wait_for_service -  mysql at localhost:3307 is ready! | component=services subcomponent=wait_for_service service_name=service-23760 environment=dev
2025-05-19 13:44:33.821 [INFO] [INFO] services - wait_for_service -  Waiting for postgres to be ready at localhost:5433... | component=services subcomponent=wait_for_service service_name=service-23760 environment=dev
2025-05-19 13:44:33.826 [INFO] [INFO] services - wait_for_service -  TCP connection to localhost:5433 successful | component=services subcomponent=wait_for_service service_name=service-23760 environment=dev
2025-05-19 13:44:33.852 [INFO] [INFO] services - wait_for_service -  postgres at localhost:5433 is ready! | component=services subcomponent=wait_for_service service_name=service-23760 environment=dev
2025-05-19 13:44:33.855 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:33.878 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:33.886 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:33.891 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:33.914 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:33.918 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:33.924 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Reusing existing sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:33.933 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:33.946 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:33.990 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:34.207 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.25s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:34.211 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:34.296 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:34.304 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:34.306 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:34.323 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:34.536 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.22s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:34.542 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:34.608 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Leak detection task for testdb_postgres exiting | pool_name=testdb_postgres component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:34.653 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_2d3be59e with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:34.709 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_2d3be59e_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:34.729 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_2d3be59e from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:34.741 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:34.746 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:34.748 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:34.752 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:34.772 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:34.803 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:34.990 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.21s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:34.995 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:35.097 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_5c12c3c6 with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.105 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field age in test_users_5c12c3c6 with type int | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.149 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_5c12c3c6_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.187 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_5c12c3c6_history from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.203 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_5c12c3c6 from schema: ['name', 'age', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.214 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:35.218 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:35.221 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:35.227 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for testdb_postgres | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:35.250 [INFO] [INFO] PostgresDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for testdb_postgres in 0.02s | component=PostgresDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:35.267 [INFO] [INFO] PostgresPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_postgres check_interval_mins=5 component=PostgresPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:35.589 [INFO] [INFO] PostgresPoolManager - _initialize_pool_if_needed -  testdb_postgres - 039aa5ab782c53fb1f9eb3596f4c49fe async pool initialized in 0.33s | component=PostgresPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:35.593 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 1, "idle": 19, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:35.682 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field name in test_users_976274ea with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.688 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field update_comment in test_users_976274ea with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.737 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_976274ea_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.765 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Found new field department in test_users_976274ea with type str | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.772 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to table test_users_976274ea | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.781 [INFO] [INFO] PostgresAsyncConnection - _update_entity_metadata -  Adding column department to history table test_users_976274ea_history | component=PostgresAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:35.800 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_976274ea_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.816 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_976274ea from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.826 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_976274ea from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.832 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_976274ea_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.840 [INFO] [INFO] PostgresAsyncConnection - _get_field_names -  Got field names for test_users_976274ea_history from schema: ['name', 'id', 'created_at', 'updated_at', 'update_comment', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'department'] | component=PostgresAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:35.853 [INFO] [INFO] PostgresPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_postgres", "hash": "039aa5ab782c53fb1f9eb3596f4c49fe", "min_size": 3, "max_size": 20, "current_size": 20, "in_use": 0, "idle": 20, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=PostgresPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:35.857 [INFO] [INFO] pool_manager - close_pool -  Pool 039aa5ab782c53fb1f9eb3596f4c49fe marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:35.866 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for 039aa5ab782c53fb1f9eb3596f4c49fe: 'NoneType' object has no attribute 'send' | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:36.054 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:36.091 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.08s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:36.093 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:36.526 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field price in test_products_4df3ff30 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:36.531 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_products_4df3ff30 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:36.594 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_products_4df3ff30 from schema: ['id', 'price', 'updated_at', 'name', 'created_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:36.608 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:36.618 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:36.629 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:36.658 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:36.698 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.05s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:36.704 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:36.913 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field department in test_employees_dcd73f75 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:36.917 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_employees_dcd73f75 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:36.994 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:36.998 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:37.003 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:37.018 [INFO] [INFO] MySqlPoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=testdb_mysql check_interval_mins=5 component=MySqlPoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:37.049 [INFO] [INFO] MySqlPoolManager - _initialize_pool_if_needed -  testdb_mysql - a38f6583c7ceb10c7107caf0e8484dd2 async pool initialized in 0.04s | component=MySqlPoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:37.051 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 3, "in_use": 1, "idle": 2, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:37.246 [INFO] [INFO] MysqlAsyncConnection - _update_entity_metadata -  Found new field name in test_users_50c04775 with type str | component=MysqlAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:37.272 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.279 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.290 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.299 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.307 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.314 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.322 [INFO] [INFO] MysqlAsyncConnection - _get_field_names -  Got field names for test_users_50c04775 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=MysqlAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.328 [INFO] [INFO] MySqlPoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "testdb_mysql", "hash": "a38f6583c7ceb10c7107caf0e8484dd2", "min_size": 3, "max_size": 20, "current_size": 2, "in_use": 0, "idle": 2, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=MySqlPoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:37.332 [INFO] [INFO] pool_manager - close_pool -  Pool a38f6583c7ceb10c7107caf0e8484dd2 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:37.335 [ERROR] [ERROR] pool_manager - close_pool -  Error closing pool for a38f6583c7ceb10c7107caf0e8484dd2: object NoneType can't be used in 'await' expression | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:37.347 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for test_sqlite_da293249.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:37.350 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for test_sqlite_da293249.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:37.355 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_da293249.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:37.357 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_da293249.db - 36dd38793572065917c21e82e57d023c async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:37.359 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_da293249.db", "hash": "36dd38793572065917c21e82e57d023c", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:37.378 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field account in test_accounts_fa99cb36 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:37.389 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field balance in test_accounts_fa99cb36 with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:37.406 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_fa99cb36_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.417 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_accounts_fa99cb36_history from schema: ['account', 'balance', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:37.444 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_da293249.db", "hash": "36dd38793572065917c21e82e57d023c", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:37.447 [INFO] [INFO] pool_manager - close_pool -  Pool 36dd38793572065917c21e82e57d023c marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:37.450 [INFO] [INFO] pool_manager - close_pool -  Pool for 36dd38793572065917c21e82e57d023c closed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:37.956 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for test_sqlite_1e1e438c.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:37.966 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for test_sqlite_1e1e438c.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:37.973 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_1e1e438c.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:37.976 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_1e1e438c.db - e22efa33d220b7cbbcb2a74293803d35 async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:37.979 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_1e1e438c.db", "hash": "e22efa33d220b7cbbcb2a74293803d35", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:37.995 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field order in test_orders_689c89cd with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:38.008 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_689c89cd_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:38.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_orders_689c89cd_history from schema: ['order', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:38.039 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_1e1e438c.db", "hash": "e22efa33d220b7cbbcb2a74293803d35", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:38.045 [INFO] [INFO] pool_manager - close_pool -  Pool e22efa33d220b7cbbcb2a74293803d35 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:38.048 [INFO] [INFO] pool_manager - close_pool -  Pool for e22efa33d220b7cbbcb2a74293803d35 closed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:38.552 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for test_sqlite_5c5725b3.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:38.558 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for test_sqlite_5c5725b3.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:38.565 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_5c5725b3.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:38.568 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_5c5725b3.db - 93f7759176445cf19426991a40148a8f async pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:38.570 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_5c5725b3.db", "hash": "93f7759176445cf19426991a40148a8f", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:38.584 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in test_users_0fe21631 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:38.593 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_0fe21631_history from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:38.607 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_users_0fe21631 from schema: ['name', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:38.610 [INFO] [INFO] test_dal - test_sqlite_save_and_get_entity -  ============= {
    "name": "Alice",
    "id": "cfdc6155-4021-44ca-a05c-3c27dff46e56",
    "created_at": "2025-05-19T12:44:38.574029+00:00",
    "updated_at": "2025-05-19T12:44:38.574029+00:00",
    "created_by": null,
    "updated_by": null,
    "deleted_at": null
} | component=test_dal subcomponent=test_sqlite_save_and_get_entity service_name=service-23760 environment=dev
2025-05-19 13:44:38.617 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_5c5725b3.db", "hash": "93f7759176445cf19426991a40148a8f", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:38.622 [INFO] [INFO] pool_manager - close_pool -  Pool 93f7759176445cf19426991a40148a8f marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:38.626 [INFO] [INFO] pool_manager - close_pool -  Pool for 93f7759176445cf19426991a40148a8f closed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:39.167 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Requesting sync connection for test_sqlite_5ccc9f93.db | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:39.214 [INFO] [INFO] SqliteDatabase - get_sync_connection -  Thread 20076: Sync connection created and cached for test_sqlite_5ccc9f93.db in 0.00s | component=SqliteDatabase subcomponent=get_sync_connection service_name=service-23760 environment=dev
2025-05-19 13:44:39.228 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=test_sqlite_5ccc9f93.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23760 environment=dev
2025-05-19 13:44:39.232 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  test_sqlite_5ccc9f93.db - 765f1328276a55a83c9f6e5b5c5d1194 async pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23760 environment=dev
2025-05-19 13:44:39.234 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_5ccc9f93.db", "hash": "765f1328276a55a83c9f6e5b5c5d1194", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:39.264 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in test_events_5b255514 with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:39.273 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field event_date in test_events_5b255514 with type datetime | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23760 environment=dev
2025-05-19 13:44:39.298 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_5b255514_history from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:39.312 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for test_events_5b255514 from schema: ['title', 'event_date', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23760 environment=dev
2025-05-19 13:44:39.320 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "test_sqlite_5ccc9f93.db", "hash": "765f1328276a55a83c9f6e5b5c5d1194", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23760 environment=dev
2025-05-19 13:44:39.327 [INFO] [INFO] pool_manager - close_pool -  Pool 765f1328276a55a83c9f6e5b5c5d1194 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:39.330 [INFO] [INFO] pool_manager - close_pool -  Pool for 765f1328276a55a83c9f6e5b5c5d1194 closed | component=pool_manager subcomponent=close_pool service_name=service-23760 environment=dev
2025-05-19 13:44:39.833 [INFO] [INFO] conftest - setup_test_environment -  Tearing down test environment... | component=conftest subcomponent=setup_test_environment service_name=service-23760 environment=dev
2025-05-19 13:44:39.835 [INFO] [INFO] conftest - run_command -  Running command:  | component=conftest subcomponent=run_command service_name=service-23760 environment=dev
